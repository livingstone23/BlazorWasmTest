<h3>ListadoPeliculas</h3>

@if (Movies == null)
{
    @*<text>Cargando...</text>*@
    @*@ChildContent*@
    @if (Cargando == null)
    {
        <text>Cargando...</text>
    }
    else
    {
        @Cargando
    }
}
else if (Movies.Count() == 0)
{
    @*<text>No hay registros para mostrar...</text>*@
    @if (NoHayRegistros == null)
    {
        <text>No hay registros para mostrar...</text>
    }
    else
    {
        @NoHayRegistros 
    }
}
else
{
    @*<input type="checkbox" @onchange="@(() => MostrarBotones = !MostrarBotones )" />*@
    <input type="checkbox" @bind="MostrarBotones" />


    @foreach (var movie in Movies)
    {
        <PeliculaIndividual Movie="movie"
                            MostrarBotones="MostrarBotones"
                            EliminarPelicula="EliminarPelicula2" />
    }

}

@code {

    [Parameter] public List<Movie> Movies { get; set; }
    [Parameter] public RenderFragment Cargando { get; set; }
    [Parameter] public RenderFragment NoHayRegistros { get; set; }

    bool MostrarBotones = false;

    void EliminarPelicula2(Movie movie)
    {
        Movies.Remove(movie);
        Console.WriteLine($"Se ha eliminado la pelicula {movie.Name}");
    }

}
